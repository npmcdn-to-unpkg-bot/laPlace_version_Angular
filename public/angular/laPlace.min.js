(function(){angular.module("laPlaceApp",["ngRoute"]);function e(e){e.when("/",{templateUrl:"accueil/accueil.view.html",controller:"accueilCtrl",controllerAs:"vm"}).otherwise({redirectTo:"/"})}angular.module("laPlaceApp").config(["$routeProvider",e])})();(function(){angular.module("laPlaceApp").controller("accueilCtrl",e);e.$inject=["$scope","laPlaceData","geolocalisation"];function e(e,t,o){var n=this;n.headerDeLaPage={titre:"laPlace ",tagline:"permet de trouver un etablissement pres de chez vous"};n.sidebar={contenu:"Cherchez un endroit ? laPlace est là pour vous."};n.message="Verification en cours de votre localisation";n.getData=function(e){var o=e.coords.latitude,a=e.coords.longitude;n.message="Recherche d'endroits proche en cours";t.locationByCoords(o,a).success(function(e){n.message=e.length>0?"":"Aucuns endroits trouvé pres de votre positiob";n.data={endroits:e}}).error(function(e){n.message="Desole, quelque chose s'est mal passé."})};n.showError=function(t){e.$apply(function(){n.message=t.message})};n.noGeo=function(){e.$apply(function(){n.message="La geolocalisation n'est pas supportée par votre navigateur."})};o.getPosition(n.getData,n.showError,n.noGeo)}})();(function(){angular.module("laPlaceApp").service("geolocalisation",e);function e(){var e=function(e,t,o){if(navigator.geolocation){navigator.geolocation.getCurrentPosition(e,t)}else{o()}};return{getPosition:e}}})();(function(){angular.module("laPlaceApp").service("laPlaceData",e);e.$inject=["$http"];function e(e){var t=function(t,o){return e.get("/api/endroits?lng="+o+"&lat="+t+"&maxDistance=20000000")};return{locationByCoords:t}}})();(function(){var e=function(e){return!isNaN(parseFloat(e))&&isFinite(e)};var t=function(){return function(t){var o,n;if(t&&e(t)){if(t>1){o=parseFloat(t).toFixed(1);n="km"}else{o=parseInt(t*1e3,10);n="m"}return o+n}else{return"?"}}};angular.module("laPlaceApp").filter("distanceFormatee",t)})();(function(){angular.module("laPlaceApp").directive("noteEtoilees",e);function e(){return{restrict:"EA",scope:{laNote:"=note"},templateUrl:"/commun/directives/noteEtoilees/note-etoilees.template.html"}}})();(function(){angular.module("laPlaceApp").directive("footerGenerique",e);function e(){return{restrict:"EA",templateUrl:"/commun/directives/footerGenerique/footerGenerique.template.html"}}})();(function(){angular.module("laPlaceApp").directive("navigation",e);function e(){return{restrict:"EA",templateUrl:"/commun/directives/navigation/navigation.template.html"}}})();